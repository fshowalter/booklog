/*! $.noUiSlider
 *  Documentation available at:
 *  http://refreshless.com/nouislider/
 *
 *  Copyright LÃ©on Gersen, https://twitter.com/LeonGersen
 *  Released under the WTFPL license
 *  http://www.wtfpl.net/about/
 */
!function(t){"use strict";if(t.zepto&&!t.fn.removeData)throw new ReferenceError("Zepto is loaded without the data module.");t.fn.noUiSlider=function(e){function n(t,e){return 100*e/(t[1]-t[0])}function r(t,e){return n(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function i(t,e){return e*(t[1]-t[0])/100+t[0]}function a(e,n,r){t.isArray(e)||(e=[e]),t.each(e,function(){"function"==typeof this&&this.call(n,r)})}function o(e){return e instanceof t||t.zepto&&t.zepto.isZ(e)}function s(e){e.preventDefault();var n,r,i=0===e.type.indexOf("touch"),a=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),s=e;return 0===e.type.indexOf("MSPointer")&&(o=!0),e.originalEvent&&(e=e.originalEvent),i&&(n=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY),(a||o)&&(o||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),n=e.clientX+window.pageXOffset,r=e.clientY+window.pageYOffset),t.extend(s,{pointX:n,pointY:r,cursor:a})}function l(e,n,r,i,a){return e=e.replace(/\s/g,T+" ")+T,a?n.on(e,t.proxy(r,t.extend(n,i))):(i.handler=r,n.on(e,t.proxy(function(t){return this.target.hasClass("noUi-state-tap")||this.target.attr("disabled")?!1:void this.handler(s(t))},i)))}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(){var e=parseFloat(this.style[t(this).data("style")]);return isNaN(e)?-1:e}function f(e){var n=this.target;return void 0===e?this.element.data("value"):(e===!0?e=this.element.data("value"):this.element.data("value",e),void t.each(this.elements,function(){"function"==typeof this?this.call(n,e):this[0][this[1]](e)}))}function h(){var t=[null,null];t[this.which]=this.val(),this.target.val(t,!0)}function d(e,r){var i={handles:{r:!0,t:function(t){return t=parseInt(t,10),1===t||2===t}},range:{r:!0,t:function(t,e,n){return 2!==t.length?!1:(t=[parseFloat(t[0]),parseFloat(t[1])],u(t[0])&&u(t[1])?"range"===n&&t[0]===t[1]?!1:t[1]<t[0]?!1:(e[n]=t,!0):!1)}},start:{r:!0,t:function(e,n,r){return 1===n.handles?(t.isArray(e)&&(e=e[0]),e=parseFloat(e),n.start=[e],u(e)):i.range.t(e,n,r)}},connect:{t:function(t,e){return 1===e.handles?"lower"===t||"upper"===t:"boolean"==typeof t}},orientation:{t:function(t){return"horizontal"===t||"vertical"===t}},margin:{r:!0,t:function(t,e,r){return t=parseFloat(t),e[r]=n(e.range,t),u(t)}},direction:{r:!0,t:function(t,e,n){switch(t){case"ltr":e[n]=0;break;case"rtl":e[n]=1;break;default:return!1}return!0}},serialization:{r:!0,t:function(e,n,r){function i(t){return o(t)||"string"==typeof t||"function"==typeof t||t===!1||o(t[0])&&"function"==typeof t[0][t[1]]}function a(e){var n=[[],[]];return i(e)?n[0].push(e):t.each(e,function(t,e){t>1||(i(e)?n[t].push(e):n[t]=n[t].concat(e))}),n}if(e.to){var s,l;for(e.to=a(e.to,0),n.direction&&e.to[1].length&&e.to.reverse(),s=0;s<n.handles;s++)for(l=0;l<e.to[s].length;l++){if(!i(e.to[s][l]))return!1;e.to[s][l]||e.to[s].splice(l,1)}n[r].to=e.to}else n[r].to=[[],[]];if(e.resolution)switch(e.resolution){case 1:case.1:case.01:case.001:case 1e-4:case 1e-5:break;default:return!1}else n[r].resolution=1;if(e.mark){if("."!==e.mark&&","!==e.mark)return!1}else n[r].mark=".";return!0}},slide:{t:function(t){return"function"==typeof t}},set:{t:function(t,e){return i.slide.t(t,e)}},block:{t:function(t,e){return i.slide.t(t,e)}},step:{t:function(t,e,n){return t=parseFloat(t),e[n]=t,u(t)}}};t.each(i,function(t,n){var i=e[t],a=i||0===i;if(n.r&&!a||a&&!n.t(i,e,t))throw console&&console.log&&console.group&&(console.group("Invalid noUiSlider initialisation:"),console.log("Option:	",t),console.log("Value:	",i),console.log("Slider(s):	",r),console.groupEnd()),new RangeError("noUiSlider")})}function p(t,e){return Math.round(t/e)*e}function g(t,e){return t=t.toFixed(e.decimals),t.replace(".",e.serialization.mark)}function v(t,e,n){if(e)return!1;var r=t.data("target");return r.hasClass(j[14])||(n||(r.addClass(j[15]),setTimeout(function(){r.removeClass(j[15])},600)),r.addClass(j[14]),a(t.data("options").block,r)),!1}function m(t,e,r){var a,o=t.data("options"),s=t.data("base"),l=s.data("handles"),c=t[0].gPct(),f=t.data("value");return e=0>e?0:e>100?100:e,u(e)&&e!==f?(o.step&&(e=p(e,n(o.range,o.step))),e===c&&f?!1:(l.length>1&&(t[0]===l[1][0]?(a=l[0][0].gPct()+o.margin,e=a>e?a:e):(a=l[1][0].gPct()-o.margin,e=e>a?a:e)),e=0>e?0:e>100?100:e,e===c&&t.data("value")?v(s,r,!o.margin):(s.data("target").removeClass(j[14]),t.css(t.data("style"),e+"%"),t[0]===l[0][0]&&t.children("."+j[2]).toggleClass(j[13],e>50),o.direction&&(e=100-e),t.data("store").val(g(i(o.range,e),o)),!0))):!1}function y(e,n,r){if(o(n)){var i=[];return e.data("options").direction&&(r=r?0:1),n.each(function(){l("change",t(this),h,{target:e.data("target"),handle:e,which:r},!0),i.push([t(this),"val"])}),i}return"string"==typeof n&&(n=[t('<input type="hidden" name="'+n+'">').appendTo(e).addClass(j[3]).change(function(t){t.stopPropagation()}),"val"]),[n]}function b(e,n,r){var i=[];return t.each(r.to[n],function(t){i=i.concat(y(e,r.to[n][t],n))}),{element:e,elements:i,target:e.data("target"),val:f}}function w(t){var e,n,r=this.base;"left"===this.handle.data("style")?(e=t.pointX-this.startEvent.pointX,n=r.width()):(e=t.pointY-this.startEvent.pointY,n=r.height()),e=this.position+100*e/n,m(this.handle,e)&&a(r.data("options").slide,r.data("target"))}function x(t){this.handle.children("."+j[2]).removeClass(j[4]),t.cursor&&U.css("cursor","").off(T),A.off(T),this.target.removeClass(j[14]).change(),a(this.handle.data("options").set,this.target)}function F(t){this.handle.children("."+j[2]).addClass(j[4]),t.stopPropagation(),t.pointX||(t=s(t)),l(D.move,A,w,{startEvent:t,position:this.handle[0].gPct(),base:this.base,target:this.target,handle:this.handle}),l(D.end,A,x,{base:this.base,target:this.target,handle:this.handle}),t.cursor&&(U.css("cursor","default"),U.on("selectstart"+T,function(){return!1}))}function E(t){if(!this.base.find("."+j[4]).length){var e,n,r,i=this.base,o=i.data("handles"),s=o[0].data("style"),l=t["left"===s?"pointX":"pointY"],u="left"===s?i.width():i.height(),c={handles:[],base:i.offset()};for(e=0;e<o.length;e++)c.handles.push(o[e].offset());r=1===o.length?0:(c.handles[0][s]+c.handles[1][s])/2,n=1===o.length||r>l?o[0]:o[1],i.addClass(j[5]),setTimeout(function(){i.removeClass(j[5])},300),m(n,100*(l-c.base[s])/u),a([n.data("options").slide,n.data("options").set],i.data("target")),i.data("target").change()}}function C(e){return e=t.extend({handles:2,margin:0,direction:"ltr",orientation:"horizontal"},e)||{},e.serialization=e.serialization||{},d(e,this),this.each(function(){var n,r,i=t(this).addClass(j[6]),a=i.children("div").first(),o=e.direction,s={base:[j[0]],origin:[[j[1],j[1]+j[o?8:7]],[j[1],j[1]+j[o?7:8]]],handle:[[j[2],j[2]+j[o?8:7]],[j[2],j[2]+j[o?7:8]]]};for(e.connect?(o&&("lower"===e.connect?e.connect="upper":"upper"===e.connect&&(e.connect="lower")),"lower"===e.connect?(s.base.push(j[9],j[9]+j[7]),s.origin[0].push(j[12])):(s.base.push(j[9]+j[8],j[12]),s.origin[0].push(j[9]))):s.base.push(j[12]),e.decimals=function(t){return t=t.toString().split("."),"1"===t[0]?0:t[1].length}(e.serialization.resolution),s.base.push("vertical"===e.orientation?j[10]:j[11]),a.addClass(s.base.join(" ")).data({target:i,options:e,handles:[]}),i.data("base",a),o&&i.addClass(j[16]),n=0;n<e.handles;n++)r=t(a.children("div")[n]),r.addClass(s.origin[n].join(" ")),r.children().addClass(s.handle[n].join(" ")),l(D.start,r.children(),F,{base:a,target:i,handle:r}),r.data({base:a,target:i,options:e,style:"vertical"===e.orientation?"top":"left"}),r.data({store:b(r,n,e.serialization)}),r[0].gPct=c,a.data("handles").push(r);i.val(e.start),l(D.start,a,E,{base:a,target:i})})}function $(){var e=t(this).data("base"),n=[];return t.each(e.data("handles"),function(){n.push(t(this).data("store").val())}),1===n.length?n[0]:e.data("options").direction?n.reverse():n}function S(e,n){return t.isArray(e)||(e=[e]),this.each(function(){var i,o,s=Array.prototype.slice.call(t(this).data("base").data("handles"),0),l=s[0].data("options");for(s.length>1&&(s[2]=s[0]),l.direction&&e.reverse(),o=0;o<s.length;o++)i=e[o%2],null!==i&&void 0!==i&&("string"===t.type(i)&&(i=i.replace(",",".")),i=r(l.range,parseFloat(i)),l.direction&&(i=100-i),m(s[o],i,!0)||s[o].data("store").val(!0),n===!0&&a(l.set,t(this)))})}var A=t(document),U=t("body"),T=".nui",_=t.fn.val,j=["noUi-base","noUi-origin","noUi-handle","noUi-input","noUi-active","noUi-state-tap","noUi-target","-lower","-upper","noUi-connect","noUi-vertical","noUi-horizontal","noUi-background","noUi-z-index","noUi-block","noUi-state-blocked","noUi-rtl"],D=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"};return t.fn.val=function(){return this.hasClass(j[6])?arguments.length?S.apply(this,arguments):$.apply(this):_.apply(this,arguments)},C.call(this,e)}}(window.jQuery||window.Zepto);