#!/usr/bin/env ruby
# frozen_string_literal: true

require 'thor'
require_relative '../booklog/booklog'

#
# App namespace
#
module Booklog
  #
  # Responsible for the console interface.
  #
  module Console
    #
    # Responsible for handling the new sub-command.
    #
    class New < Thor
      desc 'author', 'create a new author entry'
      def author
        Console::CreateAuthor.call
      end

      desc 'book', 'create a new book entry'
      def book
        Console::CreateBook.call
      end

      desc 'reading', 'create a new reading entry'
      def reading
        Console::CreateReading.call
      end

      desc 'review', 'create a new review entry'
      def review
        Console::CreateReview.call
      end

      desc 'page', 'create a new page entry'
      def page
        Console::CreatePage.call
      end

      desc 'placeholder', 'create a new image placeholder'
      def placeholder
        Console::CreatePlaceholder.call
      end
    end

    #
    # Responsible for processing the movielog command.
    #
    class App < Thor
      desc 'new <type>', 'create a new <type> entry'
      subcommand 'new', New
    end

    App.start(ARGV)
  end
end
